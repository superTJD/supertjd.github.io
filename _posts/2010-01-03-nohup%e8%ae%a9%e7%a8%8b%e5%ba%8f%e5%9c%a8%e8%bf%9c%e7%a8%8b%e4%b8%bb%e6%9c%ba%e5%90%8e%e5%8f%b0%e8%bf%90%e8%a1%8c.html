---
layout: post
title: nohup让程序在远程主机后台运行
date: 2010-01-03 16:21:42.000000000 +01:00
type: post
published: true
status: publish
categories:
- Linux
tags: []
meta:
  _edit_last: '1'
author:
  login: admin
  email: liqiankun2010@gmail.com
  display_name: 老李
  first_name: ''
  last_name: ''
---
<p>有可以作为守护进程运行的程序：<br />
直接在后面加&<br />
/usr/local/mysql/bin/mysqld_safe --user=mysql &</p>
<p>无守护进程的程序：<br />
使用nohup，注意，后也要加& （另可使用更强大的screen命令）<br />
如：<br />
  nohup /root/test.php &<br />
  提示：<br />
  [~]$ appending output to nohup.out<br />
  证明运行成功，同时把程序运行的输出信息放到当前目录的 nohup.out 文件中去。</p>
<p>附：nohup命令参考<br />
　　nohup 命令<br />
　　用途：<!--more-->不挂断地运行命令。<br />
　　语法：nohup Command [ Arg ... ] [　& ]<br />
　　描述：nohup 命令运行由 Command 参数和任何相关的 Arg 参数指定的命令，忽略所有挂断（SIGHUP）信号。在注销后使用 nohup 命令运行后台中的程序。要运行后台中的 nohup 命令，添加 & （ 表示“and”的符号）到命令的尾部。<br />
　　无论是否将 nohup 命令的输出重定向到终端，输出都将附加到当前目录的 nohup.out 文件中。如果当前目录的 nohup.out 文件不可写，输出重定向到 $HOME/nohup.out 文件中。如果没有文件能创建或打开以用于追加，那么 Command 参数指定的命令不可调用。如果标准错误是一个终端，那么把指定的命令写给标准错误的所有输出作为标准输出重定向到相同的文件描述符。<br />
　　退出状态：该命令返回下列出口值：<br />
　　126 可以查找但不能调用 Command 参数指定的命令。<br />
　　127 nohup 命令发生错误或不能查找由 Command 参数指定的命令。<br />
　　否则，nohup 命令的退出状态是 Command 参数指定命令的退出状态。<br />
　　<br />
    nohup命令及其输出文件<br />
　　nohup命令：如果你正在运行一个进程，而且你觉得在退出帐户时该进程还不会结束，那么可以使用nohup命令。该命令可以在你退出帐户/关闭终端之后继续运行相应的进程。nohup就是不挂起的意思( n ohang up)。<br />
　　该命令的一般形式为：nohup command &<br />
      使用nohup命令提交作业<br />
　　如果使用nohup命令提交作业，那么在缺省情况下该作业的所有输出都被重定向到一个名为nohup.out的文件中，除非另外指定了输出文件：<br />
　　nohup command > myout.file 2>&1 &<br />
　　在上面的例子中，输出被重定向到myout.file文件中。</p>
<p>　　使用 jobs 查看任务。<br />
　　使用 fg %n　关闭。</p>
